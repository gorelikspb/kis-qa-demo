# Решения по развертыванию Mini-KIS QA Demo

## Дата обсуждения
27 января 2026

## Вопросы и решения

### 1. Выбор платформы развертывания: Railway vs Render

**Вопрос:** Какая платформа лучше для Python веб-приложений (Flask/FastAPI)?

**Решение:** Railway (рекомендуется)

**Аргументы:**

#### Railway
**Плюсы:**
- ✅ Не засыпает (нет spin-down) - приложение всегда готово
- ✅ Быстрый отклик для демо-проектов
- ✅ Не нужен внешний пинг-сервис
- ✅ Проще для демо-проекта
- ✅ Лучше для показа работодателю (нет задержки первого запроса)
- ✅ Единая платформа для всех Python-проектов
- ✅ Бесплатный план: $5 кредитов/месяц (обычно хватает для демо)

**Минусы:**
- ⚠️ Может закончиться бесплатный кредит при активном использовании (для демо обычно хватает)
- ⚠️ Меньше документации чем у Render

#### Render
**Плюсы:**
- ✅ Больше бесплатных часов (750 часов/месяц)
- ✅ Хорошая документация
- ✅ Простой интерфейс

**Минусы:**
- ❌ **Критический минус:** Spin-down после 15 минут бездействия
- ❌ Холодный старт: первый запрос после простоя занимает 30-60 секунд
- ❌ Для демо-проекта это плохо - работодатель может подумать что сайт не работает
- ❌ Требует настройки внешнего пинг-сервиса (UptimeRobot) чтобы не засыпал
- ❌ Медленнее после простоя

**Вывод:** Для демо-проекта, который должен быть доступен месяц без дополнительной настройки, Railway лучше.

### 2. Выбор веб-фреймворка: Flask vs FastAPI

**Вопрос:** Почему Flask, если в других проектах используется FastAPI?

**Найденные упоминания FastAPI в проектах:**
- `checkbeleg/instructions/HOW_TO_USE_PROJECT_LOG.md` - решение использовать FastAPI вместо Flask
- `sora/server/` - использует FastAPI с uvicorn
- `sendacard-technical.md` - упоминается как вариант

**Аргументы за FastAPI (из checkbeleg):**
- FastAPI быстрее и современнее
- Автоматическая документация (Swagger)
- Type hints из коробки
- Высокая производительность
- Современный подход

**Текущее состояние:**
- `autotest` использует Flask
- `konstanz_data` использует Streamlit (специфично для data apps)

**Финальное решение:** Оставить Flask

**Аргументы:**
- ✅ Flask проще и понятнее для быстрого понимания кода
- ✅ Меньше кода для простых HTML-форм
- ✅ Широко известен и понятен работодателю
- ✅ Для демо-проекта важнее читаемость, чем единообразие
- ✅ FastAPI используется только в 2 проектах из многих, не критично для единообразия

**Вывод:** Flask остается как основной фреймворк для этого проекта.

### 3. Требования к доступности демо

**Требование:** Демо должно быть доступно минимум месяц для работодателя

**Проблема с Render:**
- Засыпает после 15 минут бездействия
- Нужен автоматический пинг каждые 10-14 минут
- Можно использовать UptimeRobot (бесплатно)

**Решение с Railway:**
- Не засыпает - всегда готово
- Не требует дополнительной настройки
- Работодатель сразу видит работающий сайт

### 4. Унификация платформ для разных типов проектов

**Текущая стратегия:**
- Python веб-приложения (Flask/FastAPI) → Railway
- Streamlit → Streamlit Cloud (специфично для Streamlit)
- Статические сайты → Cloudflare Pages

**Вывод:** 3 платформы, но каждая для своего типа проектов - это нормально.

## Итоговые решения

1. **Платформа развертывания:** Railway (основной вариант)
2. **Альтернатива:** Render + UptimeRobot (если нужен пинг)
3. **Веб-фреймворк:** Flask (остается)
   - Решение: Flask проще для быстрого понимания кода
   - FastAPI используется только в 2 проектах, не критично для единообразия
   - Для демо важнее читаемость, чем единообразие
4. **Доступность:** Railway обеспечивает постоянную доступность без дополнительной настройки

## Действия

- [x] Обновить `DEPLOYMENT_PLAN.md` - указать Railway как основной вариант
- [x] Обновить `SUMMARY.md` - изменить рекомендацию с Render на Railway
- [x] Добавить инструкции по настройке UptimeRobot для Render (если нужна альтернатива)
- [x] Решение по веб-фреймворку: Flask остается (проще для понимания кода)

---

**Примечание:** Этот документ отражает решения принятые в процессе обсуждения требований к развертыванию демо-проекта.

